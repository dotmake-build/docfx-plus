<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Customizing the Build Process </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Customizing the Build Process ">
      
      
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/EWSoftware/SHFB/blob/main/Documentation/SandcastleBuilder/docfx/docs/custombuild.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">


      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href=".././">
            <img id="logo" class="svg" src="../images/Sandcastle.jpg" alt="Sandcastle Help File Builder Documentation">
            Sandcastle Help File Builder Documentation
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="customizing-the-build-process">Customizing the Build Process</h1>

<p>In order to provide the ability to customize the main build steps in earlier versions of the help
file builder, the scripts used to run the tools and the related configuration files were placed in the <em>.\Templates</em> folder beneath the main help file builder installation folder rather than
embedding them in the executables.  In each file are a set of substitution tags that will be resolved to one of
the project properties and, in some cases, a list of files at build time.</p>
<div class="NOTE">
<h5>Note</h5>
<p>All current and future versions of the help file builder support <a href="plugins/plugins.html">plug-ins</a> which provide a much more flexible way of
altering and extending the build process without the need to modify the supplied templates.  You can use the same
set of substitution tags in your own scripts, configuration files, and plug-ins and resolve them at build-time as
well.</p>
</div>
<h2 id="ReplacementTags"> Replacement Tags</h2>
<p>The help file builder template files as well as various files in your own projects such as token files
may contain one or more of the following substitution tags.  At build-time, these tags will be replaced with the
appropriate project value in order to produce the help file.  Some of these tags also appear in the language
resource files and are used to place items in the page header and footer.  These tags can also be entered into
text project properties such as <code>HeaderText</code> or <code>FooterText</code> to
have them appear in the help topics.</p>
<div class="TIP">
<h5>Tip</h5>
<p>Any MSBuild property can also be referenced using the substitution tag syntax
(<code>{@PropertyName}</code>).  This allows you to define custom properties via the <a href="propertieswindow/buildprops.html#UserDefProps">UserDefinedProperties</a> project
property and use them in other project properties such as <code>HelpFileVersion</code>, <code>HeaderText</code>, etc.</p>
<p>For a list of the standard help file builder property names, see the <a href="propertieswindow/propertieswindow.html">property page</a> help topics.  The internal property
name of each property option is listed after the property section title in parentheses.</p>
</div>
<table>
<thead>
<tr>
<th>Replacement Tag</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>{@AppDataFolder} and {@LocalDataFolder}</td>
<td><code>{@AppDataFolder}</code> is replaced with the common application data folder for the<br>help file builder.  This is used to store third-party build components and plug-ins. <code>{@LocalDataFolder}</code> is replaced with the local application data folder for the help file<br>builder.  This is used to store cache files and other user settings.  See the <a href="gettingstarted/specialfilepaths.html">Special Folder Locations</a> topic for more information.</td>
</tr>
<tr>
<td>{@BuildDate} or {@BuildDate:[date-format]} or {@BuildDateUtc} or {@BuildDateUtc:[date-format]}</td>
<td>This tag allows you to insert a build date/time into a project file or a text project property such<br>as <code>HeaderText</code> or <code>FooterText</code>.  If <code>{@BuildDate}</code><br>is used, the full date time is inserted using the default format.  You can also specify a custom date format.<br>For example: <code>{@BuildDate:MMMM d, yyyy a\t hh:mm tt}</code>.  If the <code>BuildDateUtc</code><br>tag is used, it inserts the date in Universal Coordinated Time (UTC) instead of local time.</td>
</tr>
<tr>
<td>{@CodeSnippetsFiles}</td>
<td>This tag expands to a list of the conceptual content code snippets files that will be used by the<br>Example Component in conceptual content builds.  To be included, the project file must have its <code>BuildAction</code> set to <code>CodeSnippets</code>.</td>
</tr>
<tr>
<td>{@CommentFileList}</td>
<td>This tag expands to a list of the XML comment files that will be used to produce the help file.  This<br>tag is placed in the Sandcastle configuration file.</td>
</tr>
<tr>
<td>{@Comments}</td>
<td>If a <code>FeedbackEMailAddress</code> is specified in the project, this tag expands to<br>the include directive that adds the &quot;send e-mail&quot; note to the page footers.</td>
</tr>
<tr>
<td>{@ComponentsFolder}</td>
<td>This tag expands to the path where the custom build components can be found.  This will be the *Build Components* folder under common application data folder<br>(<code>{@AppDataFolder}</code>).</td>
</tr>
<tr>
<td>{@CopyrightInfo} and {@HtmlEncCopyrightInfo}</td>
<td>These tags expand to an empty string if neither the <code>CopyrightHref</code> nor the <code>CopyrightText</code> project options are specified.  If only one or the other is specified,<br>then it results in the value of the project option that is present.  If both are specified, it results in a link<br>to the specified URL with the specified copyright text.  The first version is plain text, the second version is<br>HTML encoded.</td>
</tr>
<tr>
<td>{@CopyrightText} and {@HtmlEncCopyrightText}</td>
<td>These tags expand to the <code>CopyrightText</code> project option (plain text and HTML<br>encoded).</td>
</tr>
<tr>
<td>{@Copyright}</td>
<td>If either or both of the copyright project options are specified, this tag will expand to the include<br>directive necessary to place the text in the page footers.</td>
</tr>
<tr>
<td>{@DefaultTopic} and {@WebDefaultTopic}</td>
<td>These tags appear in the help file project template and the website index page respectively and<br>expand to the filename of the default topic.</td>
</tr>
<tr>
<td>{@DocInternals}</td>
<td>This tag expands to &quot;true&quot; if either the <code>DocumentInternals</code> or <code>DocumentPrivates</code> project property is set to true. If both are set to false, this expands<br>to &quot;false&quot;.</td>
</tr>
<tr>
<td>{@ExtractFlags}</td>
<td>This tag expands to the flags that tell the HTML extract tool what files to create.  It will generate<br>files for the HTML Help 1 and website builds as needed.</td>
</tr>
<tr>
<td>{@FeedbackEMailAddress}, {@HtmlEncFeedbackEMailAddress}, {UrlEncFeedbackEMailAddress},<br>{@FeedbackEMailLinkText}</td>
<td>These tags expand to the <code>FeedbackEMailAddress</code> project option if it is<br>specified (plain text, HTML encoded, and URL encoded) and the <code>FeedbackEMailLinkText</code><br>project option if specified (plain text).  Note that if <code>FeedbackEMailLinkText</code> is<br>specified, it will be used in place of the e-mail address for the <code>{@HtmlEncFeedbackEMailAddress}</code><br>tag's value.</td>
</tr>
<tr>
<td>{@FrameworkVersion}, {@FrameworkVersionShort}</td>
<td>These tags expand to the selected <code>FrameworkVersion</code> project option (full and<br>&quot;major.minor&quot; respectively) and are placed in the <em>sandcastle.config</em> and <em>MRefBuilder.config</em> configuration files.</td>
</tr>
<tr>
<td>{@H2RegPlugInEntries} and {@H2RegMergeNamespaces}</td>
<td>These two tags expand to the plug-in and merge namespace entries in the <em>H2Reg.ini</em><br>file.</td>
</tr>
<tr>
<td>{@HHCPath}</td>
<td>This tag expands to the path to the HTML Help 1 compiler.  This will be the path that the help<br>builder found or the <code>HtmlHelp1xCompilerPath</code> project option if it is specified instead.</td>
</tr>
<tr>
<td>{@HTMLHelpName} and {@HTMLEncHelpName}</td>
<td>These expand to the value of the <code>HtmlHelpName</code> project option (plain text and<br>HTML encoded).</td>
</tr>
<tr>
<td>{@Help1xProjectFiles}</td>
<td>This tag appears in the help file project templates and is used to return a list of all files that<br>should be compiled into the help file.</td>
</tr>
<tr>
<td>{@HelpTitle}, {@HtmlEncHelpTitle}, {@UrlEncHelpTitle}, and {@ScriptHelpTitle}</td>
<td>These tags expand to the <code>HelpTitle</code> project option (plain text, HTML encoded,<br>URL encoded, and quote-escaped for JavaScript).</td>
</tr>
<tr>
<td>{@InheritedCommentFileList}</td>
<td>This tag expands to a list of the XML comment files that will be used to produce the inherited<br>documentation.  This tag is placed in the <strong>Generate Inherited Documentation</strong> tool's<br>configuration file.</td>
</tr>
<tr>
<td>{@LanguageFolder}</td>
<td>This tag expands to the language folder to use for the Sandcastle shared content files.  If a folder<br>is not found for the selected language, the default US-English Sandcastle shared content files are used.</td>
</tr>
<tr>
<td>{@LangId} and {@LanguageName}</td>
<td>These tags expands to the locale ID (LCID) and the locale ID plus language name for the <code>Language</code> project option.</td>
</tr>
<tr>
<td>{@Locale}</td>
<td>This tag expands to the locale name for the <code>Language</code> project option.</td>
</tr>
<tr>
<td>{@ManifestTransformation}</td>
<td>This tag expands to the document model transformation filename for the selected presentation style.</td>
</tr>
<tr>
<td>{@ManifestTransformationParameters}</td>
<td>This tag expands to the document model transformation parameters for the selected presentation style.</td>
</tr>
<tr>
<td>{@OutputFolder}</td>
<td>This tag expands to the full path to the output folder and is used in the templates to help the tools<br>locate the output folder.</td>
</tr>
<tr>
<td>{@PresentationPath} and {@PresentationStyle}</td>
<td>The first tag expands to the path of the presentation folder that contains the art, scripts, style<br>sheets, and transformations for the style selected with the project's <code>PresentationStyle</code><br>property.  The second expands to the ID of the style itself.</td>
</tr>
<tr>
<td>{@ProjectFolder} and {@HtmlEncProjectFolder}</td>
<td>These tags expand to the path that contains the project file (plain text and HTML encoded).  This is<br>useful for build components that need paths relative to the project.</td>
</tr>
<tr>
<td>{@ProjectNodeName}</td>
<td>This expands to the root namespace page ID (the project node ID).  The resolved value will be in the<br>format <code>R:Project_[HtmlHelpName]</code> where &quot; <code>HtmlHelpName</code> &quot; is the<br>value of that property from your project.</td>
</tr>
<tr>
<td>{@ProjectNodeIDRequired} and {@ProjectNodeIdOptional}</td>
<td>These expand to the root namespace page ID (the project node ID) that gets passed to the document<br>model transformation.  The resolved value will be in the format <code>Project_[HtmlHelpName]</code><br>where &quot; <code>HtmlHelpName</code> &quot; is the value of that property from your project.  The &quot;Optional&quot;<br>version may be an empty string if not used for the build.</td>
</tr>
<tr>
<td>{@ResourceItemFiles}</td>
<td>This tag expands to a list of the resource item files in the project that contain project overrides<br>for the Sandcastle resource items used in the generated help topics.  To be included, the project file must have<br>its <code>BuildAction</code> set to <code>ResourceItems</code>.</td>
</tr>
<tr>
<td>{@SHFBFolder}</td>
<td>This tag expands to the path to the Sandcastle Help File Builder installation folder.</td>
</tr>
<tr>
<td>{@SyntaxFilters} and {@SyntaxFiltersDropDown}</td>
<td>These tags expand to the language filter components that determine which languages appear in the <strong>Syntax</strong> section of each help topic.</td>
</tr>
<tr>
<td>{@TargetFrameworkIdentifier}</td>
<td>This tag expands to target framework identifier based on the current <code>FrameworkVersion</code><br>project property setting.  It will be <code>.NETFramework</code> for .NET versions, <code>Silverlight</code> for Silverlight versions, <code>.NETPortable</code> for the<br>.NET Portable framework versions, or <code>.NETCore</code> for .NET for Windows Store Apps<br>frameworks.</td>
</tr>
<tr>
<td>{@TocTransformation}</td>
<td>This tag expands to the table of contents transformation filename for the selected presentation style.</td>
</tr>
<tr>
<td>{@TocTransformationParameters}</td>
<td>This tag expands to the table of contents transformation parameters for the selected presentation style.</td>
</tr>
<tr>
<td>{@TokenFiles}</td>
<td>This tag expands to a list of the conceptual content token files that will be used by the token<br>Shared Content Component in conceptual content builds.  To appear in the list, the project file must have its <code>BuildAction</code> set to <code>Tokens</code>.</td>
</tr>
<tr>
<td>{@TransformComponentArguments}</td>
<td>This expands to the transform component arguments that are passed to the <strong>BuildAssembler</strong><br>tool's <code>TransformComponent</code>.</td>
</tr>
<tr>
<td>{@WindowOptions}</td>
<td>This tag expands to a value in the help file project that determines the window options available.<br>Currently, a default set of options is used to display most of the common features such as the basic toolbar<br>buttons and the search tab.  If the <code>IncludeFavorites</code> project property is set to true,<br>the value includes the option to show the <strong>Favorites</strong> tab too.</td>
</tr>
<tr>
<td>{@WorkingFolder} and {@HtmlEncWorkingFolder}</td>
<td>These tags expand to the full path to the working folder (plain text and HTML encoded) and are used<br>in the templates to help the tools locate the files in the temporary working folder.</td>
</tr>
</tbody>
</table>
<h2 id="TemplateFiles"> Template Files</h2>
<p>The following files are found in the <em>.\Templates</em> folder under the main help file builder
installation folder.</p>
<table>
<thead>
<tr>
<th>Template File</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Build1xHelpFile.proj, BuildHelpViewerFile.proj, BuildOpenXmlFile.proj, GenerateMarkdownContent.proj</td>
<td>These MSBuild projects are used to build the HTML Help 1, MS Help Viewer, Open XML, and markdown help<br>projects respectively and copy the resulting output and supporting files to the project's output folder.  The<br>MS Help Viewer version simply copies the supporting files to the project's output folder as the build engine<br>compresses the topics into the archive that becomes the MSHC file.</td>
</tr>
<tr>
<td>GenerateInheritedDocs.proj and GenerateInheritedDocs.config</td>
<td>This MSBuild project and configuration file are used to generate the inherited documentation file.</td>
</tr>
<tr>
<td>GenerateRefInfo.proj</td>
<td>This MSBuild project is used to generate the reflection information from the documentation assemblies<br>using <strong>MRefBuilder</strong>.  The result is the <em>reflection.org</em> file that<br>contains information about the types in each assembly.</td>
</tr>
<tr>
<td>Help1x.hhp</td>
<td>This is the help file project template for HTML Help 1 help files.  This defines the basic help file<br>options and the help window properties.</td>
</tr>
<tr>
<td>HelpContentSetup.msha, InstallMSHC.bat, and RemoveMSHC.bat</td>
<td>These are the template file used for the MS Help Viewer content setup file and the example scripts<br>used to install and remove the MS Help Viewer content.</td>
</tr>
<tr>
<td>MRefBuilder.config</td>
<td>This configuration file is used to supply some configuration information to <strong>MRefBuilder</strong><br>that it uses when generating the reflection information file.</td>
</tr>
<tr>
<td>PlaceHolderNode.aml</td>
<td>This is a blank MAML topic used as the target for empty place holder nodes when generating MS Help<br>Viewer files.  MS Help Viewer does not support empty place holder nodes so this topic fills them so that the<br>build succeeds and generates a valid file.  A unique ID is generated for each placeholder inserted into the file.</td>
</tr>
<tr>
<td>TransformBuildLog.xsl</td>
<td>This XSL transformation file is used to transform the build log into something that is more readable<br>by formatting the build steps into collapsible sections and highlight errors and warnings.</td>
</tr>
</tbody>
</table>
<h2 id="see-also">See Also</h2>
<h4 id="concepts">Concepts</h4>
<ul>
<li><a href="langres.html">Localizing Language Resource Files</a></li>
<li><a href="customhdrftr.html">Customizing the Header and Footer Text</a></li>
<li><a href="plugins/plugins.html">Build Process Plug-Ins</a></li>
</ul>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/EWSoftware/SHFB/blob/main/Documentation/SandcastleBuilder/docfx/docs/custombuild.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          [v{@HelpFileVersion}] Copyright \xA9 2006-2025, Eric Woodruff, All rights reserved
        </div>
        <div class="flex-fill text-end">
          <span>Made with <a href="https://dotmake.build/docfx-plus/">docfx-plus</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
